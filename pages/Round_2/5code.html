<h2 class="contentCenter mainText">Программирование на языке C++</h2>
<p>
    Программирование в среде Arduino осуществляется на языке Си
    с минимальным набором элементов C++. В дальнейшем будем, для 
    краткости, называть этот язык программирования языком Си. 
</p>
<p>
    Рассмотрим основные особенности синтаксиса этого языка, знание 
    которых необходимо для написания программ.
    Каждое выражение заканчивается символом точки с запятой. 
    Например:
</p>
<p>
    a = b + c;
</p>
<p>
    Тело функций и составных операторов (if, else, for, while) 
    выделяются фигурными скобками (аналогично BeginEnd в языке 
    Pascal). Например:
</p>
<p>
    if(a > 0) {
    b = a+1;
    }
</p>
<p>
    Строки выделяются двойными кавычками:
    lcd.print("some text");
</p>
<p>
    а символы выделяются одинарными кавычками:
    symbol = 'a';
</p>
<p>
    Подключение библиотек осуществляется с помощью конструкции:
    #include < math.h >
</p>
<p>
    Комментарии в программе начинаются двумя прямыми слешами:
    // это комментарий
</p>
<p>
    Объявление переменной в языке Си осуществляется с помощью 
    конструкции вида:
    тип_переменной имя_переменной;
</p>
<p>
    Пример:
</p>
<p>
    int x, y; // объявлены переменные x и y, имеющие целый тип
    В программах для Arduino можно использовать следующие типы для 
    числовых данных:
</p>
<p>
    ‒ byte – целое число от 0 до 255;
    ‒ int – целое число от -32768 до +32767;
    ‒ word – целое число от 0 до 65535;
    ‒ long – целое число от -2147483648 до 2147483647;
    ‒ float и double – числа с плавающей точкой, соответствуют типу 
    float для обычных компьютеров, тип double в настоящее время 
    эквивалентен float.
</p>
<p>
    Массивы в языке Си объявляются конструкцией вида:
    тип_элемента имя_массива[размер];
    Пример:
</p>
<p>
    int values[10]; // массив из десяти целых чисел
    В языке Си предусмотрен тип для хранения символов и строк, это тип 
    char. Строки представляют собой массивы типа char, в которых 
    последний символ имеет код 0, что обозначает конец строки.
</p>
<p>
    Пример:
    char my_str[10]; // строка не более девяти символов длиной
    Тип boolean используется для представления логических значений 
    true (истина) и false (ложь). Кроме того, любое целое значение 
    может использоваться как логическое, при этом 0 означает ложь, 
    а любое ненулевое значение – истину.
</p>
<p>
    Последний тип данных, который мы рассмотрим – тип void. Это 
    «пустой» тип, который используется при объявлении функций, не 
    принимающих аргументов или не возвращающих результат 
    (аналогично процедурам в языке Pascal).
</p>
<p>
    Указание слова const перед объявлением переменной говорит 
    о том, что ее значение не может быть изменено.
    В языке Си используется стандартный набор математических 
    операторов, включающий +, -, * и /. Для вычисления остатка от 
    деления используется %.
</p>
<p>
    Кроме того, есть их специальные комбинации с оператором 
    присваивания, позволяющие сократить запись:
    x += 4; // Означает x = x + 4
</p>
<p>
    Такие формы есть для всех операторов.
    Для увеличения и уменьшения числа на единицу есть 
    инкременты и декременты:
</p>
<p>
    x++; // Означает x = x + 1
</p>
<p>
    y--; // Означает y = y – 1
</p>
<p>
    Набор операторов сравнения тоже стандартен и включает 
    операторы <, >, <=, >=. Равенство записывается с помощью двух 
    знаков равно (==), а неравенство записывается как !=. Логические 
    выражения можно вычислять с помощью операторов «и» – &&, «или» 
    – ||. Логическое отрицание записывается с помощью 
    восклицательного знака !.
</p>
<p>
    Условный оператор имеет следующий синтаксис:
    if(условие) 
    код, выполняемый, если условие истинно
    Если в случае истинности условия необходимо выполнить несколько 
    операторов, то они объединяются в один блок с помощью фигурных 
    скобок:
</p>
<p>
    if(условие){ 
    </p>
    <p>
    код, выполняемый, если условие истинно
</p>
<p>
    }
</p>
<p>
    Полная форма условного оператора включает блок else, код в котором выполняется, если условие ложно:
</p>
<p>
    if(условие) {
    </p>
    <p>
    код, выполняемый, если условие истинно
</p>
<p>
    }
</p>
<p>
    else {
    </p>
    <p>
    код, выполняемый, если условие ложно
</p>
<p>
    }
</p>
<p>
    Оператор switch позволяет осуществить выбор одной из веток 
    кода в зависимости от значения числовой переменной, например:
</p>
<p>
    switch(mode) {
    </p>
    <p>
    default:
</p>
<p>
    case 0:
</p>
<p>
    код для режима 0
</p>
<p>
    break;
</p>
<p>
    case 1:
</p>
<p>
    код для режима 1
</p>
<p>
    break;
</p>
<p>
    case 2:
</p>
<p>
    код для режима 2
</p>
<p>
    break;
</p>
<p>
    }
</p>
<p>
    При этом значение переменной mode определяет, в какую точку 
    перейдет исполнитель программы внутри тела оператора. Дальше 
    будут выполняться все действия, если не встретится break, который 
    прервет дальнейшее исполнение кода внутри switch.
</p>
<p>
    Если значение выражения не соответствует ни одной из меток, то 
    выполняется код, начиная с метки default. В данном примере из-за 
    отсутствия break после default управление попадет в «действия для 
    режима 0».
</p>
<p>
    Цикл while позволяет выполнять код до тех пор, пока условие 
    верно. Он имеет синтаксис:
</p>
<p>
    while( условие )
</p>
<p>
    код, выполняемый в цикле
</p>
<p>
    Более сложным является цикл for:
</p>
<p>
    for(инициализация; условие; шаг)
</p>
<p>
    код, выполняемый в цикле
</p>
<p>
    В этом цикле выражение, указанное в блоке «инициализация»,
    выполняется один раз перед началом цикла. Обычно в нем задают 
    начальные значения для переменных цикла. Условие проверяется 
    каждый раз в самом начале очередной итерации цикла и если оно 
    станет ложно, то цикл останавливается. «Шаг» выполняется после 
    выполнения тела цикла и обычно увеличивает (или уменьшает) 
    переменные цикла. В блоках «инициализация» и «шаг» можно 
    изменить несколько переменных, если написать соответствующие 
    выражения через запятую.
</p>
<p>
    Пример цикла, вычисляющего сумму арифметической 
    прогрессии:
</p>
<p>
    int i, sum;
</p>
<p>
    for(i = 0, sum = 0; i <= 10; i++)
</p>
<p>
    sum += i;
</p>
<p>
    Код программы на языке Си должен быть обязательно разбит на 
    функции. Для объявления функции используется следующий 
    синтаксис:
</p>
<p>
    тип_функции имя_функции( параметры ) {
    </p>
    <p>
    код, выполняемый в рамках функции
</p>
<p>
    return результат_функции;
</p>
<p>
    }
</p>
<p>
    Тип функции сообщает тип значения, которое будет возвращать 
    функция. Например, стандартная функция cos, вычисляющая 
    косинус, возвращает значение типа float.
</p>
<p>
    Имя функции может быть любой строкой, начинающейся с буквы, 
    и содержащей только буквы, цифры и символы подчеркивания.
    Параметры – это перечень переменных, которые принимают 
    значения, передаваемые в функцию. Переменные указываются через 
    запятую, сначала пишут тип параметра, а затем – его название.
    Чтобы вернуть значение из функции используется оператор 
    return. Он немедленно прерывает выполнение функции, а ее
    результатом становится значение указанного после return
    выражения.
</p>
<p>
    Если функция ничего не возвращает, то тип_функции указывается 
    как void. Если функции не передается никаких аргументов, то можно 
    ничего не писать внутри круглых скобок или можно написать там 
    слово void.
</p>
<p>
    Ниже приведен пример функции, суммирующей два числа типа 
    int:
</p>
<p>
    int sum(int a, int b) {
    </p>
    <p>
    int result;
</p>
<p>
    result = a + b;
</p>
<p>
    return result;
</p>
<p>
    }
</p>
<p>
    Для вызова функции необходимо написать ее имя и в круглых 
    скобках указать через запятую значения аргументов, например:
    r = sum(3, 10);
</p>
<p>
    В программах на языке Си можно объявить переменные за 
    пределами любых функций. Такие переменные называются 
    глобальными. Их можно использовать в любых функциях, 
    расположенных после объявления переменной. Например, в этой 
    программе переменная led используется в функциях setup()
    и loop().
</p>
<p>
    const int led = 2;
</p>
<p>
    void setup() {
    </p>
    <p>
    pinMode(led, OUTPUT);
</p>
<p>
    }
</p>
<p>
    void loop() {
    </p>
    <p>
    digitalWrite(led, HIGH);
</p>
<p>
    delay(1000);
</p>
<p>
    digitalWrite(led, LOW);
</p>
<p>
    delay(1000);
</p>
<p>
    }
</p>
<p>
</p>